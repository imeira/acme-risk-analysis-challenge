<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.0.6 Chrome/138.0.7204.100 Electron/37.2.3 Safari/537.36" version="28.0.6">
  <diagram name="ACME Risk Analysis - Solution Architecture" id="solution-architecture">
    <mxGraphModel dx="1665" dy="893" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="ACME Risk Analysis - Arquitetura de Solução&#xa;Resiliência, Escalabilidade e Alto Desempenho" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="527" y="20" width="600" height="60" as="geometry" />
        </mxCell>
        <mxCell id="loadbalancer" value="Load Balancer / API Gateway&#xa;(NGINX, AWS ALB, Kong)&#xa;&#xa;• Distribuição de carga&#xa;• Rate limiting&#xa;• SSL termination&#xa;• Health checks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="700" y="230" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="risk1" value="Risk Analysis Service&#xa;Instance 1&#xa;Port: 8080&#xa;&#xa;• Orquestração&#xa;• Geração JWT&#xa;• Circuit Breaker" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="500" y="390" width="150" height="100" as="geometry" />
        </mxCell>
        <mxCell id="risk2" value="Risk Analysis Service&#xa;Instance 2&#xa;Port: 8080&#xa;&#xa;• Orquestração&#xa;• Geração JWT&#xa;• Circuit Breaker" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="680" y="390" width="150" height="100" as="geometry" />
        </mxCell>
        <mxCell id="risk3" value="Risk Analysis Service&#xa;Instance N&#xa;Port: 8080&#xa;&#xa;• Orquestração&#xa;• Geração JWT&#xa;• Circuit Breaker" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="860" y="390" width="150" height="100" as="geometry" />
        </mxCell>
        <mxCell id="lists1" value="Lists Service&#xa;Instance 1&#xa;Port: 8081&#xa;&#xa;• Listas Permissivas&#xa;• Listas Restritivas&#xa;• Cache em memória" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="300" y="560" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="lists2" value="Lists Service&#xa;Instance 2&#xa;Port: 8081&#xa;&#xa;• Listas Permissivas&#xa;• Listas Restritivas&#xa;• Cache em memória" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="460" y="560" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="decision1" value="Decision Engine Service&#xa;Instance 1&#xa;Port: 8082&#xa;&#xa;• Motor de Regras&#xa;• Cálculo de Score&#xa;• Cache de regras" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="800" y="560" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="decision2" value="Decision Engine Service&#xa;Instance 2&#xa;Port: 8082&#xa;&#xa;• Motor de Regras&#xa;• Cálculo de Score&#xa;• Cache de regras" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="960" y="560" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="database" value="Database Cluster&#xa;(PostgreSQL/MySQL)&#xa;&#xa;• Master/Slave&#xa;• Connection Pool&#xa;• Backup automático&#xa;• Replicação" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1200" y="540" width="120" height="140" as="geometry" />
        </mxCell>
        <mxCell id="queue" value="Message Queue&#xa;(Kafka/RabbitMQ)&#xa;&#xa;• Processamento assíncrono&#xa;• Desacoplamento&#xa;• Retry automático&#xa;• Dead letter queue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="620" y="710" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="cache" value="Distributed Cache&#xa;(Redis Cluster)&#xa;&#xa;• Cache de listas&#xa;• Cache de regras&#xa;• Session storage&#xa;• Rate limiting" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="100" y="460" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="monitoring" value="Monitoring &amp; Observability&#xa;&#xa;• Prometheus/Grafana&#xa;• ELK Stack (Logs)&#xa;• Jaeger (Tracing)&#xa;• Health checks&#xa;• Alerting" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1350" y="230" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="client" value="Cliente Externo&#xa;(Frontend/Mobile App)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cdeb8b;strokeColor=#36393d;fontSize=12;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="720" y="130" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" parent="1" source="client" target="loadbalancer" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d6b656;" parent="1" source="loadbalancer" target="risk1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d6b656;" parent="1" source="loadbalancer" target="risk2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d6b656;" parent="1" source="loadbalancer" target="risk3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="risk1" target="lists1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;" parent="1" source="risk2" target="lists2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#b85450;" parent="1" source="risk2" target="decision1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#b85450;" parent="1" source="risk3" target="decision2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9673a6;" parent="1" source="decision1" target="database" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9673a6;" parent="1" source="decision2" target="database" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" source="lists1" target="cache" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" parent="1" source="risk2" target="queue" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jwt" value="🔐 JWT Authentication&#xa;Todas as comunicações internas&#xa;protegidas com tokens JWT" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="710" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="circuit" value="⚡ Circuit Breaker Pattern&#xa;• Timeout: 5s&#xa;• Retry: 3x&#xa;• Fallback: Negar transação" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="710" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="metrics" value="📊 Performance Targets&#xa;• TPS: 10,000+&#xa;• Latência: &lt;100ms P95&#xa;• Disponibilidade: 99.9%&#xa;• RTO: &lt;5min, RPO: &lt;1min" style="text;html=1;strokeColor=#56517e;fillColor=#d0cee2;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1350" y="390" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="scalability" value="🚀 Escalabilidade&#xa;• Auto-scaling horizontal&#xa;• Container orchestration (K8s)&#xa;• Stateless services&#xa;• Database sharding" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1350" y="490" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="resilience" value="🛡️ Resiliência&#xa;• Multi-AZ deployment&#xa;• Health checks&#xa;• Graceful degradation&#xa;• Disaster recovery" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1350" y="590" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="legend" value="Legenda do Fluxo de Dados:&#xa;&#xa;🟡 Risk Analysis Service (Orquestrador)&#xa;🔵 Lists Service (Listas)&#xa;🔴 Decision Engine Service (Regras)&#xa;🟣 Database (Persistência)&#xa;⚫ Message Queue (Assíncrono)&#xa;🟠 Cache (Performance)" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="50" y="230" width="220" height="140" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
